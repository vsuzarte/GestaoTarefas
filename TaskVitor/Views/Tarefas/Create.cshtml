@model TaskVitor.Models.Tarefa

<div class="container-fluid dashboard-container">
    <!-- Título no estilo dashboard -->
    <h2 class="dashboard-title mb-4">📝 Nova Tarefa</h2>

    <!-- Formulário dentro de card -->
    <div class="card dashboard-card p-4">
        <form asp-action="Create" method="post" class="row g-3">
            @Html.AntiForgeryToken()

            <!-- Nome -->
            <div class="col-12">
                <label asp-for="Nome" class="form-label">Nome da Tarefa</label>
                <input asp-for="Nome" type="text" class="form-control" placeholder="Digite o nome da tarefa..." />
                <span asp-validation-for="Nome" class="text-danger"></span>
            </div>

            <!-- Descrição -->
            <div class="col-12">
                <label asp-for="Descricao" class="form-label">Descrição da Tarefa</label>
                <textarea asp-for="Descricao" class="form-control" placeholder="Digite uma breve descrição do que foi feito..."></textarea>
            </div>

            <!-- Data -->
            <div class="col-md-3">
                <label asp-for="Data" class="form-label">Data</label>
                <input asp-for="Data" type="date" class="form-control" />
                <span asp-validation-for="Data" class="text-danger"></span>
            </div>

            <!-- Classificação -->
            <div class="col-md-3">
                <label asp-for="ClassificacaoId" class="form-label">Classificação</label>
                <select asp-for="ClassificacaoId" class="form-select">
                    @foreach (var c in ViewBag.Classificacoes)
                    {
                        <option value="@c.Id">@c.Nome</option>
                    }
                </select>
            </div>

            <!-- Cliente -->
            <div class="col-md-3">
                <label asp-for="ClienteId" class="form-label">Cliente</label>
                <select asp-for="ClienteId" class="form-select">
                    @if (ViewBag.Clientes != null && ViewBag.Clientes.Count > 0)
                    {
                        @foreach (var c in ViewBag.Clientes)
                        {
                            <option value="@c.Id">@c.Nome</option>
                        }
                    }
                </select>
            </div>

            <!-- Responsável -->
            <div class="col-md-3">
                <label asp-for="ResponsavelId" class="form-label">Responsável</label>
                <select asp-for="ResponsavelId" class="form-select">
                    @if (ViewBag.Responsaveis != null && ViewBag.Responsaveis.Count > 0)
                    {
                        @foreach (var r in ViewBag.Responsaveis)
                        {
                            <option value="@r.Id">@r.Nome</option>
                        }
                    }
                </select>
            </div>

            <!-- Projeto -->
            <div class="col-md-3">
                <label asp-for="ProjetoId" class="form-label">Projeto</label>
                <select asp-for="ProjetoId" class="form-select">
                    @if (ViewBag.Projetos != null && ViewBag.Projetos.Count > 0)
                    {
                        @foreach (var r in ViewBag.Projetos)
                        {
                            <option value="@r.Id">@r.Nome</option>
                        }
                    }
                </select>
            </div>

            <!-- Botões -->
            <div class="col-12">
                <button type="submit" class="btn btn-success me-2">
                    <i class="bi bi-check-lg me-1"></i> Salvar
                </button>
                <a asp-action="Index" class="btn btn-secondary">
                    <i class="bi bi-x-lg me-1"></i> Cancelar
                </a>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
